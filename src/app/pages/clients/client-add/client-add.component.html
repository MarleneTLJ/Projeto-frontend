<div class="container">
  <mat-card>
    <mat-card-title class="card-header">
        Registre o cliente com cuidado, pois você não quer ele reclamando depois...
    </mat-card-title>
    <!-- INÍCIO: Form de cadastro -->
    <form class="form-content" [formGroup]="clientForm">
      <div class="alert alert-danger" *ngIf="error">
        <p>{{ error }}</p>
      </div>
      <mat-card-content class="card-content">
        <!-- INÍCIO: Nome -->
        <mat-form-field appearance="outline">
          <mat-label>Nome</mat-label>
          <input
            matInput
            minlength="3"
            maxlength="50"
            placeholder="Nome"
            formControlName="name"
            name="name"
            required
          />
          <mat-error>
            <div *ngIf="name.invalid">
              <div *ngIf="name.errors?.['required']">Nome é obrigatório</div>
              <div *ngIf="name.errors?.['minlength']">
                Nome deve ter no mínimo 3 caracteres
              </div>
              <div *ngIf="name.errors?.['maxlength']">
                Nome deve ter no máximo 50 caracteres
              </div>
            </div>
          </mat-error>
        </mat-form-field>
        <!-- FIM: Nome -->
        <!-- INÍCIO: Sobrenome -->
        <mat-form-field appearance="outline">
          <mat-label>Sobrenome</mat-label>
          <input
            matInput
            minlength="3"
            maxlength="255"
            placeholder="Sobrenome"
            formControlName="surname"
            name="surname"
            required
          />
          <mat-error>
            <div *ngIf="surname.invalid">
              <div *ngIf="surname.errors?.['required']">
                Sobrenome é obrigatório
              </div>
              <div *ngIf="surname.errors?.['minlength']">
                Sobrenome deve ter no mínimo 3 caracteres
              </div>
              <div *ngIf="surname.errors?.['maxlength']">
                Sobrenome deve ter no máximo 255 caracteres
              </div>
            </div>
          </mat-error>
        </mat-form-field>
        <!-- FIM: Sobrenome -->
        <!-- INÍCIO: Email -->
        <mat-form-field appearance="outline">
          <mat-label>E-mail</mat-label>
          <input
            matInput
            formControlName="email"
            placeholder="E-mail"
            name="email"
            required
          />
          <mat-error *ngIf="email.invalid && email.hasError('email')">
            Digite um e-mail válido
          </mat-error>
        </mat-form-field>
        <!-- FIM: Email -->
        <!-- INÍCIO: CPF -->
        <mat-form-field
          appearance="outline"
          [hintLabel]="cpf.invalid ? 'Digite apenas números' : ' '"
        >
          <mat-label>CPF</mat-label>
          <input
            type="text"
            matInput
            maxlength="11"
            formControlName="cpf"
            placeholder="CPF"
            name="cpf"
            required
          />
          <mat-error>
            <div *ngIf="cpf.invalid">
              <div *ngIf="cpf.errors?.['required']">CPF é obrigatório</div>
              <div *ngIf="cpf.errors?.['cpfInvalido']">
                Digite um CPF válido
              </div>
            </div>
          </mat-error>
        </mat-form-field>
        <!-- FIM: CPF -->
      </mat-card-content>
    </form>
    <!-- FIM: Form de cadastro -->
    <mat-card-actions>
      <a class="spacing" mat-stroked-button (click)="goBack()">Voltar</a>
      <button
        class="spacing"
        mat-flat-button
        color="primary"
        (click)="addClient()"
      >
        Salvar
      </button>
    </mat-card-actions>
  </mat-card>
</div>
